# ì˜ì–´ìŠ¤í„°ë”” ì‹œì¦Œ 4 8ì£¼ì°¨

created by [seungho](https://github.com/devaspirant0510) on 2021-12-18

# ğŸ“— ë‹¨ì–´ ì •ë¦¬ ğŸ“˜

|ì˜ì–´|í•œê¸€|
|---|---|
|pay close attention|ì£¼ì˜ ê¹Šê²Œ ìƒê°í•´ì£¼ì„¸ìš”|
|possibly|í˜¹ì‹œ|
|skeleton |ë¼ˆëŒ€,ê¸°ë³¸|
|demonstrate|ë³´ì—¬ì£¼ë‹¤|
|typical|ì¼ë°˜ì ì¸|
|keep in mind|ëª…ì‹¬í•˜ë‹¤|
|potentially|ì ì¬ì ì¸|
|entire|ì „ì²´|


## Managing the lifecycle of a service
__The lifecycle of a service is much simpler than that of an activity.__
`ì„œë¹„ìŠ¤ì˜ ìƒëª…ì£¼ê¸°ëŠ” ì•¡í‹°ë¹„í‹°ë³´ë‹¤ í›¨ì”¬ ê°„ë‹¨í•˜ë‹¤.`

__However, it's even more important that you pay close attention to how your service is created and
destroyed because a service can run in the background without the user being aware.__
`ê·¸ëŸ¬ë‚˜ ì„œë¹„ìŠ¤ëŠ” ìœ ì €ê°€ ì¸ì‹í•˜ì§€ ì•Šê³ ìˆì„ë•Œë„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë™ì‘í• ìˆ˜ ìˆê¸°ë•Œë¬¸ì— ì„œë¹„ìŠ¤ê°€ ì–´ë–»ê²Œ ìƒì„±ë˜ê³  íŒŒê´´ë˜ëŠ”ì§€ ì£¼ì˜ê¹Šê²Œ ìƒê°ê²ƒì´ ë” ì¤‘ìš”í•˜ë‹¤. `

__The service lifecycleâ€”from when it's created to when it's destroyedâ€”can follow either of these two paths:__
`ì„œë¹„ìŠ¤ì˜ ìƒëª…ì£¼ê¸°(ì„œë¹„ìŠ¤ê°€ ìƒì„±ë˜ê³  íŒŒê´´ë ë•Œê¹Œì§€)ëŠ” ë‘ ê²½ìš°ì¤‘ í•˜ë‚˜ë¥¼ ë”°ë¥¸ë‹¤.`

### A started service
__The service is created when another component calls startService().__
`ë‹¤ë¥¸ì»´í¬ë„ŒíŠ¸ê°€ startService() ë¥¼ í˜¸ì¶œí• ë•Œ ì„œë¹„ìŠ¤ê°€ ìƒì„±ëœë‹¤.`

__The service then runs indefinitely and must stop itself by calling stopSelf().__
`ì„œë¹„ìŠ¤ëŠ” ê·¸ë¦¬ê³  ë¬´ê¸°í•œìœ¼ë¡œ ë™ì‘í•˜ê³  ë§Œë“œì‹œ ìê¸°ìì‹ ì´ stopSelf() ë¥¼ í˜¸ì¶œí•´ì•¼í•œë‹¤.`

__Another component can also stop the service by calling stopService().__
`ë‹¤ë¥¸ì»´í¬ë„ŒíŠ¸ì—ì„œ ë˜í•œ stopService ë¥¼ í˜¸ì¶œí•˜ì—¬ ë©ˆì¶œìˆ˜ ìˆë‹¤.`

__When the service is stopped, the system destroys it.__
`ì„œë¹„ìŠ¤ê°€ ë©ˆì·„ì„ë•Œ ì‹œìŠ¤í…œì—ì„œ ì†Œë©¸ëœë‹¤.`

### A bound service
__The service is created when another component (a client) calls bindService().__
`ì„œë¹„ìŠ¤ëŠ” ìƒì„±ëœë‹¤. ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸(í´ë¼ì´ì–¸íŠ¸) ì—ì„œ bindService ë¥¼ í˜¸ì¶œí•˜ì—¬`

__The client then communicates with the service through an IBinder interface.__
`í´ë¼ì´ì–¸íŠ¸ëŠ” IBinder ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ì™€ í†µì‹ í•œë‹¤.`

__The client can close the connection by calling unbindService().__
`í´ë¼ì´ì–¸íŠ¸ëŠ” ë˜í•œ unbindService ë¥¼ í˜¸ì¶œí•˜ì—¬ ì—°ê²°ì„ ëŠì„ìˆ˜ ìˆë‹¤.`

__Multiple clients can bind to the same service and when all of them unbind, the system destroys
the service. The service does not need to stop itself.__
`ì—¬ëŸ¬í´ë¼ì´ì–¸íŠ¸ê°€ ê°™ì€ì„œë¹„ìŠ¤ì—ì„œ ë°”ì¸ë“œ ë ìˆ˜ìˆë‹¤.  ê·¸ë¦¬ê³  ëª¨ë‘ê°€ ë‹¤ ì–¸ë°”ì¸ë“œ ë¬ì„ë•Œ ì‹œìŠ¤í…œì´ ì†Œë©¸ëœë‹¤. ì„œë¹„ìŠ¤ ìì²´ë¥¼ ì¤‘ì§€í• í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.`

__These two paths aren't entirely separate.__
`ì´ ë‘ ê²½ë¡œëŠ” ì•„ì˜ˆ ë¶„ë¦¬ëœê²Œ ì•„ë‹™ë‹ˆë‹¤.`

__You can bind to a service that is already started with startService().__
`ë„ˆëŠ” ì„œë¹„ìŠ¤ë¥¼ startService()ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹œì‘ëœ ë°”ì¸ë“œ í• ìˆ˜ ìˆë‹¤.`

__For example, you can start a background music service by calling startService() with an Intent
that identifies the music to play.__
`ì˜ˆë¥¼ ë“¤ì–´ ì¬ìƒí•  ìŒì•…ì„ ì‹ë³„í•˜ëŠ” Intentë¡œ startServiceë¥¼ í˜¸ì¶œí•˜ì—¬ ë°°ê²½ìŒì•… ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í• ìˆ˜ ìˆìŠµë‹ˆë‹¤. `

__Later, possibly when the user wants to exercise some control over the player or get information about
the current song, an activity can bind to the service by calling bindService().__
`í˜¹ì‹œ ì‚¬ìš©ìê°€ ìŒì•…ì„ ì§ì ‘ì œì–´í•˜ê±°ë‚˜ í˜„ì¬ ë…¸ë˜ì˜ ì •ë³´ë¥¼ ì–»ì–´ì˜¤ëŠ”ê²ƒì„ ì›í•œë‹¤ë©´ ì•¡í‹°ë¹„í‹°ëŠ” bindService()ë¥¼ í˜¸ì¶œí•´ì„œ ë°”ì¸ë“œí• ìˆ˜ ìˆìŠµë‹ˆë‹¤.`

__In cases such as this, stopService() or stopSelf() doesn't actually stop the service until all of the
clients unbind.__
`ì´ ì¼€ì´ìŠ¤ì˜ ê²½ìš° stopService() ë˜ëŠ” stopSelf()ëŠ” ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ê°€ ì–¸ë°”ì¸ë“œ ë ë•Œê¹Œì§€ ì¤‘ì§€ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.`


## Implementing the lifecycle callbacks
__Like an activity, a service has lifecycle callback methods that you can implement to monitor
changes in the service's state and perform work at the appropriate times.__
`ì•¡í‹°ë¹„í‹° ì²˜ëŸ¼ ì„œë¹„ìŠ¤ëŠ” ë„ˆê°€ ì„œë¹„ìŠ¤ì˜ ìƒíƒœê°€ ë°”ë€Œê±°ë‚˜ ì ì ˆí•œ ì‘ì—…ì„ ìˆ˜í–‰í• ë•Œ ëª¨ë‹ˆí„°ë§ í•˜ì—¬ êµ¬í˜„í• ìˆ˜ ìˆëŠ” ìƒëª…ì£¼ê¸° ì½œë°±ì„ê°€ì§‘ë‹ˆë‹¤.`

__The following skeleton service demonstrates each of the lifecycle methods:__
`ë‹¤ìŒì— ë‚˜ì˜¤ëŠ” ë¼ˆëŒ€ ì„œë¹„ìŠ¤ëŠ” ê° ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¥¼ ë³´ì—¬ì¤€ë‹¤.`

``` kotlin
class ExampleService : Service() {
    private var startMode: Int = 0             // indicates how to behave if the service is killed
    private var binder: IBinder? = null        // interface for clients that bind
    private var allowRebind: Boolean = false   // indicates whether onRebind should be used

    override fun onCreate() {
        // The service is being created
    }

    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {
        // The service is starting, due to a call to startService()
        return startMode
    }

    override fun onBind(intent: Intent): IBinder? {
        // A client is binding to the service with bindService()
        return binder
    }

    override fun onUnbind(intent: Intent): Boolean {
        // All clients have unbound with unbindService()
        return allowRebind
    }

    override fun onRebind(intent: Intent) {
        // A client is binding to the service with bindService(),
        // after onUnbind() has already been called
    }

    override fun onDestroy() {
        // The service is no longer used and is being destroyed
    }
}
```

>Note: Unlike the activity lifecycle callback methods, you are not required to call the superclass implementation of these callback methods.
> `ì•¡í‹°ë¹„í‹° ìƒëª…ì£¼ê¸° ë©”ì„œë“œì™€ ë‹¤ë¥´ê²Œ ë„ˆëŠ” ì„œë¹„ìŠ¤ ì½œë°±ë©”ì„œë“œë“¤ì„ êµ¬í˜„í• ë•Œ  ë¶€ëª¨í´ë˜ìŠ¤ë¥¼ í¬í•¨í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.`

![image](https://developer.android.com/images/service_lifecycle.png)

__<b>Figure 2.</b> The service lifecycle.__

__The diagram on the left shows the lifecycle when the service is created with startService() and the
diagram on the right shows the lifecycle when the service is created with bindService().__
`ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ì™¼ìª½ì€ ì„œë¹„ìŠ¤ë¥¼ startService() ë¡œ ìƒì„±ë¬ì„ë•Œë¥¼ ë³´ì—¬ì¤€ë‹¤. ê·¸ë¦¬ê³  ë‹¤ì´ì–´ê·¸ë¨ ì˜¤ë¥¸ìª½ì€ bindService() ë¥¼ í†µí•´ ìƒì„±ëœ ì„œë¹„ìŠ¤ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ë³´ì—¬ì¤€ë‹¤.`

__<b>Figure</b> 2 illustrates the typical callback methods for a service.__
`figure 2 ì¼ëŸ¬ìŠ¤íŠ¸ë ˆì´íŠ¸ì—ì„œ ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì˜ ì½œë°±ë©”ì„œë“œë¥¼ ë³´ì—¬ì¤€ë‹¤.`

__Although the figure separates services that are created by startService() from those created by
bindService(), keep in mind that any service, no matter how it's started, can potentially allow
clients to bind to it.__
`ê·¸ë¦¼ì—ì„œ startService ë¡œë¶€í„° ìƒì„±ëœ ì„œë¹„ìŠ¤ì™€ bindService() ì— ì˜í•´ ìƒì„±ëœ ì„œë¹„ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ì§€ë§Œ ì–´ë–»ê²Œ ì‹œì‘í–ˆëŠ”ì§€ì™€ ê´€ê³„ì—†ì´ ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” ì ì¬ì ìœ¼ë¡œ ë°”ì¸ë“œë˜ëŠ”ê²ƒì„ ëª…ì‹¬í•˜ì‹­ì‹œì˜¤.`

__A service that was initially started with onStartCommand() (by a client calling startService())
can still receive a call to onBind() (when a client calls bindService()).__
`onStartCommand()ë¡œ ì²˜ìŒ ì‹œì‘ëœ ì„œë¹„ìŠ¤(client ë¡œ ë¶€í„° startService()ë¥¼ í˜¸ì¶œ)ë„ ì—¬ì „íˆ onBind() ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°›ì„ìˆ˜ ìˆìŠµë‹ˆë‹¤.`

__By implementing these methods, you can monitor these two nested loops of the service's lifecycle:__
`ì´ì™€ ê°™ì€ ë©”ì„œë“œë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì¨, ì„œë¹„ìŠ¤ ìˆ˜ëª… ì£¼ê¸°ì˜ ë‘ ê°€ì§€ ì¤‘ì²©ëœ ë£¨í”„ë¥¼ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`
__The entire lifetime of a service occurs between the time that onCreate() is called and the time
that onDestroy() returns.__
`ì„œë¹„ìŠ¤ì˜ ì „ì²´ lifetime ì€ oncreate ê°€ í˜¸ì¶œëœ ì‹œì ë¶€í„° onDestroy ê°€ ë¦¬í„´ëœ ì‹œê°„ ê¹Œì§€ì…ë‹ˆë‹¤..`

__Like an activity, a service does its initial setup in onCreate() and releases all remaining
resources in onDestroy().__
`ì•¡í‹°ë¹„í‹°ì²˜ëŸ¼ ì„œë¹„ìŠ¤ëŠ” oncreate ì—ì„œ ì´ˆê¸°ì„¤ì •ì„í•˜ê³  ë‚¨ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ondestroyì—ì„œ ëª¨ë‘ ë¦´ë¦¬ì¦ˆ í•©ë‹ˆë‹¤.`

__For example, a music playback service can create the thread where the music is played in onCreate(),
and then it can stop the thread in onDestroy().__
`ì˜ˆë¥¼ ë“¤ì–´ ìŒì•… ì¬ìƒ ì„œë¹„ìŠ¤ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³ , ì´ ìŠ¤ë ˆë“œì˜ onCreate()ì—ì„œ ìŒì•…ì´ ì¬ìƒë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ, onDestroy()ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`

>Note: The onCreate() and onDestroy() methods are called for all services, whether they're created by
startService() or bindService().__
> `onCreate() ë‚˜ onDestroy() ë©”ì„œë“œëŠ” ëª¨ë“ ì„œë¹„ìŠ¤ì—ì„œ í˜¸ì¶œë©ë‹ˆë‹¤. ê·¸ë“¤ì´ startService() ë˜ëŠ” bindService()ë¡œ ìƒì„±ë˜ì—ˆë“ ì§€ê°„ì—`


__The active lifetime of a service begins with a call to either onStartCommand() or onBind().__
`ì„œë¹„ìŠ¤ì˜ í™œì„±ìˆ˜ëª…ì€ onStartCommand()ë‚˜ onBind()í˜¸ì¶œ ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.`

__Each method is handed the Intent that was passed to either startService() or bindService().__
`ê° ë©”ì„œë“œëŠ” Intentë¥¼ ë°›ì•„ì„œ startService() ë˜ëŠ” bindService()ì— ì „ë‹¬í•©ë‹ˆë‹¤.`

__If the service is started, the active lifetime ends at the same time that the entire lifetime
ends (the service is still active even after onStartCommand() returns).__
`ë§Œì•½ ì„œë¹„ìŠ¤ê°€ ì‹œì‘ë¬ì„ë•Œ, í™œì„± lifetime ì¢…ë£Œë˜ëŠ”ê²ƒ ë™ì‹œì— ì „ì²´ liftime ì´ ì¢…ë£Œë˜ëŠ”ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.(ì„œë¹„ìŠ¤ëŠ” ì—¬ì „ì´ onstartCommand()ê°€ ë°˜í™˜ëœí›„ì—ë„ ì—¬ì „íˆ í™œì„±ìƒíƒœì…ë‹ˆë‹¤.)`

__If the service is bound, the active lifetime ends when onUnbind() returns.__
`ë§Œì•½ ì„œë¹„ìŠ¤ê°€ ë°”ìš´ë“œë˜ë©´ active lifetimeì€ unbound() ë¥¼ ë¦¬í„´í• ë•Œ ì¢…ë£Œí•©ë‹ˆë‹¤.`


>Note: Although a started service is stopped by a call to either stopSelf() or stopService(),
> there isn't a respective callback for the service (there's no onStop() callback).
> Unless the service is bound to a client, the system destroys it when the service is stoppedâ€”onDestroy()
> is the only callback received.
> `ì‹œì‘ëœ ì„œë¹„ìŠ¤ë¥¼ ì¢…ë£Œí•˜ë ¤ë©´ stopSelf()ë‚˜ stopService() ë‘˜ì¤‘ í•˜ë‚˜ë¥¼ í•´ì¶œí•˜ë©´ ë˜ì§€ë§Œ ì„œë¹„ìŠ¤ì—ëŒ€í•œ ê°œë³„ ì½œë°±ì€ ì—†ìŠµë‹ˆë‹¤.(onStop() ì½œë°±ì´ ì—†ìŠµë‹ˆë‹¤.)`
> `ê·¸ëŸ¬ë¯€ë¡œ ì„œë¹„ìŠ¤ê°€ í´ë¼ì´ì–¸íŠ¸ì— ë°”ì¸ë”©ë˜ì–´ ìˆì§€ ì•Šì€ í•œ, ì‹œìŠ¤í…œì€ ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë˜ë©´ ì´ë¥¼ ì†Œë©¸ì‹œí‚µë‹ˆë‹¤. ìˆ˜ì‹ ë˜ëŠ” ì½œë°±ì€ onDestroy()ê°€ ìœ ì¼í•©ë‹ˆë‹¤.`

__For more information about creating a service that provides binding, see the Bound Services document,
which includes more information about the onRebind() callback method in the section about Managing the
lifecycle of a bound service.__
`ë°”ì¸ë”©ì„ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ ìƒì„±ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ë°”ì¸ë”©ëœ ì„œë¹„ìŠ¤ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”. ë°”ì¸ë”©ëœ ì„œë¹„ìŠ¤ì˜ ìˆ˜ëª… ì£¼ê¸° ê´€ë¦¬ì— ëŒ€í•œ ì„¹ì…˜ì— onRebind()ì— ê´€í•œ ìì„¸í•œ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.`