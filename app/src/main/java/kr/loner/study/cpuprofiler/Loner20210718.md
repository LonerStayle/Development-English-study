# Improve app performance while profiling ~ Native Memory Profiler 시작전까지   
   
## 개념   
   
### 1.앱에서 메모리 할당 샘플 확인이 가능함   
+ API 26 이상인 테스트기기 에서 Allocation Tracking 로 동작 방식을 설정 할 수 있음   
1) Full :  메모리의 모든 할당을 캡쳐 * 사용시 앱이 느려짐   
2) Sampled : 일정한 간격으로 메모리 객체 할당 샘플을 캡쳐 * 디폴트 성능, Full 보단 앱이 덜 느려짐   
3) Off: 중단   
   
### 2. JNI 참조 보기   
+ 메모리 프로파일러의 JNI heap 뷰를 사용하여 글로벌 JNI 참조를 필터링 하는 기능   
+ JNI(Java Native Interface)는 자바 코드 및 네이티브 코드가 서로를 호출할 수 있는 프레임워크   
1) JNI 참조는 네이티브 코드에 의해 수동으로 관리됨 네이티브 코드에서 사용하는 자바 객체가 오랫동안 연결된 상태로 유지될 수 있음   
2) JNI 참조가 먼저 명시적으로 삭제되지 않고 취소되면 자바 힙의 일부 객체에 도달하지 못할 수도 있고 글로벌 JNI 참조 한도를 소진할 수도 있음   
 
