# ì˜ì–´ìŠ¤í„°ë”” ì‹œì¦Œ 5 1ì£¼ì°¨

created by [seungho](https://github.com/devaspirant0510) on 2022-01-16

[document link](https://developer.android.com/topic/libraries/architecture/workmanager)

# ğŸ“— ë‹¨ì–´ ì •ë¦¬ ğŸ“˜

|ì˜ì–´|í•œê¸€|
|----|----|
|accomplished|ë›°ì–´ë‚œ|
|restrictions|ì œí•œ|
|explicit|ëª…ë°±í•œ|
|immediately|ì¦‰ì‹œ|
|regarding |~ì—ê´€í•´ì„œ|
|consistent|ì¼ê´€ëœ|
|adheres to|ì¤€ìˆ˜|

## Schedule tasks with WorkManager

__WorkManager is the recommended solution for persistent work.__  
`ì›Œí¬ë§¤ë‹ˆì €ëŠ” ì§€ì†ì ì¸ ì‘ì—…ì„ ìœ„í•´ ì¶”ì²œí•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.`

__Work is persistent when it remains scheduled through app restarts and system reboots.__
` ì•±ì´ ì¬ì‹œì‘ë˜ê±°ë‚˜ ì‹œìŠ¤í…œì´ ì¬ë¶€íŒ…ë˜ëŠ”ê²ƒì„ í†µí•´ ì¼ì •ì´ ìœ ì§€ë ë•Œ ì‘ì—…ì€ ì§€ì†ì ì´ë‹¤.`

__Because most background processing is best accomplished through persistent work, WorkManager is the primary
recommended API for background processing.__
`ëŒ€ë¶€ë¶„ì˜ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì€ ì§€ì†ì ì¸ ì‘ì—…ì„ í†µí•´ ê°€ì¥ ì˜ ìˆ˜í–‰ë˜ê¸° ë–„ë¬¸ì— ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ë¥¼ ìœ„í•œ ê¶Œì¥ API ì…ë‹ˆë‹¤.`

### Types of persistent work

__WorkManager handles three types of persistent work:__  
`ì›Œí¬ë§¤ë‹ˆì €ëŠ” 3ê°€ì§€ ìœ í˜•ì˜ ì§€ì†ì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.`

__Immediate: Tasks that must begin immediately and complete soon. May be expedited.__  
`Immediate(ì¦‰ì‹œ) : ë°˜ë‹¤ì‹œ ì¦‰ì‹œì‹œì‘í•˜ê±°ë‚˜ ê³§ ì™„ë£Œë˜ì•¼ë˜ëŠ” ì‘ì—… ì‹ ì†í• ìˆ˜ ìˆìŠµë‹ˆë‹¤.`

__Long Running: Tasks which might run for longer, potentially longer than 10 minutes.__  
`LongRunning(ì˜¤ëœì‘ì—…) : ì˜¤ë˜ë™ì•ˆ ì‘ë™ë ìˆ˜ ìˆê³  ì ì¬ì ìœ¼ë¡œ 10ë¶„ë³´ë‹¤ ë” ì˜¤ë˜ ì‘ë™í• ìˆ˜ ìˆëŠ” ì‘ì—…`

__Deferrable: Scheduled tasks that start at a later time and can run periodically.__  
`Deferrable(ì§€ì—°ê°€ëŠ¥) : ë‚˜ì¤‘ì— ì‹œì‘í•˜ê³  ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í• ìˆ˜ ìˆëŠ” ì˜ˆì•½ì‘ì—… `

__Figure 1 outlines how the different types of persistent work relate to one another.__  
`ê·¸ë¦¼ 1 ì€ ë‹¤ì–‘í•œ ìœ í˜•ì˜ ì§€ì†ì  ì‘ì—…ì´ ì„œë¡œ ì–´ë–»ê²Œ ê´€ë ¨ë˜ëŠ”ì§€ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.`

![image](https://developer.android.com/images/guide/background/workmanager_main.svg)

__Similarly, the following table outlines the various types of work.__  
`ê°„ë‹¨í•˜ê²Œ ë‹¤ìŒë‚˜ì˜¤ëŠ” í…Œì´ë¸”ì—ì„œ ì‘ì—…ì—ëŒ€í•œ ë‹¤ì–‘í•œíƒ€ì…ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.`

|Type|Periodicity|How to access|
|-----|-----|-----|
|Immediate|One time|OneTimeWorkRequest and Worker For expedited work, call setExpedited() on your OneTimeWorkRequest.|
|Long Running|One time or periodic|Any WorkRequest or Worker. Call setForeground() in the Worker to handle the notification.|
|Deferrable    |One time or periodic    |PeriodicWorkRequest and Worker.|

__For more information regarding how to set up WorkManager, see the Defining your WorkRequests guide.__  
`ì–´ë–»ê²Œ ì›Œí¬ë§¤ë‹ˆì €ë¥¼ ì„¸íŒ…í•˜ëŠ”ì§€ ê´€í•´ì„œ ìì„¸íˆ ì•Œê³ ì‹¶ìœ¼ë©´ "ë„ˆì˜ WorkRequest ì •ì˜í•˜ê¸° ê°€ì´ë“œ"ë¥¼ ë³´ì•„ë¼`

### Features

__In addition to providing a simpler and more consistent API, WorkManager has a number of other key benefits:__  
`ì¶”ê°€ë¡œ ê°„ë‹¨í•˜ê³  ë” ì¼ê´€ëœ APIë¥¼ ì œê³µí•œë‹¤. ì›Œí¬ë§¤ë‹ˆì €ëŠ” ëª‡ê°€ì§€ ì£¼ìš” ì´ì ì„ ê°€ì§€ê³  ìˆë‹¤.`

#### Work constraints

__Declaratively define the optimal conditions for your work to run using work constraints.__   
`ë„ˆì˜ ì‘ì—…ì„ ì‹¤í–‰í• ë•Œ Constarintë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœì ì˜ ìƒíƒœë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•œë‹¤`

__For example,run only when the device is on an unmetered network, when the device is idle, or when it has sufficient
battery.__   
`ì˜ˆë¥¼ ë“¤ì–´ ë‹¨ì§€ ë””ë°”ì´ìŠ¤ê°€ ë¬´ì œí•œë„¤íŠ¸ì›Œí¬ì— ìˆê±°ë‚˜, ë””ë°”ì´ìŠ¤ê°€ ìœ íœ´ìƒíƒœì¼ë•Œ ë˜ëŠ” ë°°í„°ë¦¬ê°€ ì¶©ë¶„í• ìƒíƒœì¼ë•Œ  ì‹¤í–‰í•˜ë¼`

#### Robust scheduling

__WorkManager allows you to schedule work to run one-time or repeatedly using flexible scheduling windows.__   
`ì›Œí¬ë§¤ë‹ˆì €ëŠ” ë„ˆê°€  flexible scheduling windows ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œë²ˆ ë˜ëŠ” ë°˜ë³µì ìœ¼ë¡œ ì‘ì—…ì„ ì˜ˆì•½í•˜ëŠ”ê²ƒì„ í—ˆìš©í•œë‹¤.`  

__Work can be tagged and named as well, allowing you to schedule unique, replaceable work and monitor or cancel groups of work
together.__   
`ì‘ì—…ì€ íƒœê·¸ë¥¼ ì§€ì •í•˜ê³  ì´ë¦„ì„ ì§€ì •í• ìˆ˜ìˆìœ¼ë¯€ë¡œ,ë„ˆê°€ ê³ ìœ í•˜ê³ , êµì²´ê°€ëŠ¥í•œ ì‘ì—…ì„ ì˜ˆì•½í•˜ê³  ì‘ì—…ê·¸ë£¹ì„ í•¨ê»˜ ëª¨ë‹ˆí„°ë§í•˜ê±°ë‚˜ ì·¨ì†Œí• ìˆ˜ ìˆìŠµë‹ˆë‹¤.`

__Scheduled work is stored in an internally managed SQLite database and WorkManager takes care of ensuring that this work
persists and is rescheduled across device reboots.__   
`ì˜ˆì•½ëœ ì‘ì—…ì€ ë‚´ë¶€ì ìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” Sqlite ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ê³  ì›Œí¬ë§¤ë‹ˆì ¸ëŠ” ì´ ì‘ì—…ì´ ì§€ì†ë˜ê³  ë””ë°”ì´ìŠ¤ê°€ ì¬ì‹œì‘ë¬ì„ë•Œ ë‹¤ì‹œ ì˜ˆì•½í•˜ë„ë¡ í•œë‹¤.`

__In addition, WorkManager adheres to power-saving features and best practices like Doze mode, so you don't have to worry
about it.__    
`ì¶”ê°€ë¡œ ì›Œí¬ë§¤ë‹ˆì ¸ëŠ” ì „ì›ì ˆì•½ ê¸°ëŠ¥ê³¼ Doze ëª¨ë“œì™€ ê°™ì€ ëª¨ë²•ì‚¬ë¡€ë¥¼ ì¤€ìˆ˜í•˜ë¯€ë¡œ ê±±ì •í• í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.`


#### Expedited work

__You can use WorkManager to schedule immediate work for execution in the background.__    
`ë„ˆëŠ” ì›Œí¬ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ ì¦‰ê°ì ì¸ ì‘ì—…ì„ ì˜ˆì•½í• ìˆ˜ìˆë‹¤.`

__You should use Expedited work for tasks that are important to the user and which complete within a few minutes.__  
`ì‚¬ìš©ìì—ê²Œ ì¤‘ìš”í•˜ê³  ëª‡ë¶„ì•ˆì— ì™„ë£Œë˜ëŠ”ì‘ì—…ì€ Expedited work ë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.`

#### Flexible retry policy 

__Sometimes work fails.__  
`ë–„ë•Œë¡œ ì‘ì—…ì€ ì‹¤íŒ¨í•©ë‹ˆë‹¤.`
__WorkManager offers flexible retry policies, including a configurable exponential backoff policy.__  
`ì›Œí¬ë§¤ë‹ˆì €ëŠ” êµ¬ì„±ê°€ëŠ¥í•œ backoff ì •ì±…ì„ í¬í•¨í•˜ì—¬ ìœ ì—°í•œ ì¬ì‹œë„ ì •ì±…ì„ ì œê³µí•©ë‹ˆë‹¤. `

#### Work chaining

__For complex related work, chain individual work tasks together using an intuitive interface that allows you to control
which pieces run sequentially and which run in parallel.__  
`ë³µì¡í•œ ê´€ë ¨ ì‘ì—…ì˜ ê²½ìš° ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ê³¼ ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë³„ ì‘ì—… ì‘ì—…ì„ í•¨ê»˜ ì—°ê²°í•©ë‹ˆë‹¤.`

```kotlin
val continuation = WorkManager.getInstance(context)
    .beginUniqueWork(
        Constants.IMAGE_MANIPULATION_WORK_NAME,
        ExistingWorkPolicy.REPLACE,
        OneTimeWorkRequest.from(CleanupWorker::class.java)
    ).then(OneTimeWorkRequest.from(WaterColorFilterWorker::class.java))
    .then(OneTimeWorkRequest.from(GrayScaleFilterWorker::class.java))
    .then(OneTimeWorkRequest.from(BlurEffectFilterWorker::class.java))
    .then(
        if (save) {
            workRequest<SaveImageToGalleryWorker>(tag = Constants.TAG_OUTPUT)
        } else /* upload */ {
            workRequest<UploadWorker>(tag = Constants.TAG_OUTPUT)
        }
    )

```
__For each work task, you can define input and output data for that work.__  
`ê°ê°ì˜ ì‘ì—…ì€ ë„ˆê°€ ì…ë ¥ê³¼ ì¶œë ¥ ë°ì´í„°ë¥¼ ì •ì˜í• ìˆ˜ìˆë‹¤.  `  

__When chaining work together, WorkManager automatically passes output data from one work task to the next.__  
`ì‘ì—…ì„ í•¨ê»˜ ì²´ì´ë‹ í• ë•Œ ì›Œí¬ë§¤ë‹ˆì ¸ëŠ” ìë™ìœ¼ë¡œ ì¶œë ¥ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ë‹¤ìŒ ì‘ì—…íƒœìŠ¤í¬ë¡œ ë¶€í„° ì „ë‹¬í•œë‹¤.`